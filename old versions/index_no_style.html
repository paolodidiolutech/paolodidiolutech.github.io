<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Rasa Chatbot</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    
    <script
      type="module"
      src="https://unpkg.com/@rasahq/chat-widget-ui/dist/rasa-chatwidget/rasa-chatwidget.esm.js">
    </script>
    
    

  </head>

  <body>

      <h1 id="welcome-title">Benvenuto</h1>
      
      <script>
      // Ottiene i parametri dalla URL
      const params = new URLSearchParams(window.location.search);
      const userId = params.get('id');

      // Se Ã¨ presente un ID, aggiorna il titolo
      if (userId) {
        document.getElementById('welcome-title').textContent = `Benvenuto, ${userId}`;
      }
    </script>


    <!-- Modal for charts (optional) -->
    <div id="modal1" style="display:none;">
      <canvas id="modal-chart"></canvas>
    </div>

    <!-- Chatbot widget -->
    <div id="chatbot-widget">
      <div id="chat-header">
        <span id="chat-title">Chatbot</span>
        <button id="clear">Clear</button>
        <button id="restart">Restart</button>
        <button id="close">Close</button>
      </div>

      <div id="chats" style="border: 1px solid #ccc; height: 300px; overflow-y: auto; padding: 10px;">
        <!-- Chat messages will appear here -->
      </div>

      <div id="input-area" style="margin-top: 10px;">
        <textarea id="userInput" placeholder="Type a message..." rows="2" style="width: 100%;"></textarea>
        <button id="sendButton">Send</button>
      </div>
    </div>

    <!-- Optional: hidden bot profile section -->
    <div id="profile_div" style="display: none;"></div>


      <rasa-chatbot-widget
      server-url="http://localhost:5005"
      socket-path="/socket.io/"
      init-payload="/greet"
      title="Assistente"
      subtitle="Sono qui!"
      show-close-button>
      </rasa-chatbot-widget>

    <!-- JavaScript -->
    <script src="static/script.js"></script>
  </body>
</html>
